<!DOCTYPE HTML>
<html>
<head>
    <title>form design</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link href="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/css/bootstrap/css/bootstrap.css?2028" rel="stylesheet" type="text/css" />
    <link href="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/css/site.css?2028" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/js/jquery-1.7.2.min.js?2028"></script>
    <script type="text/javascript" src="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/js/layer/layer.js"></script>
    <script type="text/javascript" charset="utf-8" src="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/js/ueditor/ueditor.config.js?2028"></script>
    <script type="text/javascript" charset="utf-8" src="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/js/ueditor/ueditor.all.js?2028"></script>
    <script type="text/javascript" charset="utf-8" src="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/js/ueditor/lang/zh-cn/zh-cn.js?2028"></script>
    <script type="text/javascript" charset="utf-8" src="http://eip.unisoc.com/sites/howto/_catalogs/masterpage/FormDesigner/js/ueditor/formdesign/leipi.formdesign.v4.js?2028"></script>
</head>
<body>
    <div class="container">
        <div class="row">
            <script id="myFormDesign" type="text/plain" style="width:100%;">
            </script>
        </div>
    </div>
    <block name="footer_js">
      
        <script type="text/javascript">
            var leipiEditor = UE.getEditor('myFormDesign', {
                toolleipi: true,//是否显示，设计器的 toolbars
                textarea: 'design_content',
                toolbars: [[
                    'source', '|', 'undo', 'redo', '|', 'bold', 'italic', 'underline', 'fontborder', 'strikethrough', 'removeformat', '|', 'forecolor', 'backcolor', 'insertorderedlist', 'insertunorderedlist', '|', 'fontfamily', 'fontsize', '|', 'justifyleft', 'justifycenter', 'justifyright', 'justifyjustify', '|', 'horizontal', '|', 'inserttable', 'deletetable', 'mergecells', 'splittocells', '|',]],
                wordCount: false,
                elementPathEnabled: false,
                initialFrameHeight: 300
            });
            var leipiFormDesign = {
                exec: function (method) {
                    leipiEditor.execCommand(method);
                },
                fnCheckForm: function (type) {
                    console.log("baocun")
                },
                fnReview: function () {
                    if (leipiEditor.queryCommandState('source'))
                        leipiEditor.execCommand('source');//切换到编辑模式才提交，否则有bug
                    if (leipiEditor.hasContents()) {
                        leipiEditor.sync();       //同步内容
                        var html = leipiEditor.getContent();
                        console.log(html)
                    } else {
                        alert('表单内容不能为空！');
                        return false;
                    }
                }
            };
        </script>
</body>
</html>